- description: |
    Agent Metricset fetches metrics information from a Consul instance running as Agent
  fields:
  - fields:
    - description: Overall health of the local server cluster
      name: healthy
      type: boolean
    name: autopilot
    type: group
  - description: Runtime related metrics
    fields:
    - fields:
      - description: Number of bytes of memory obtained from the OS.
        name: bytes
        type: long
      name: sys
      type: group
    - description: Heap objects allocated
      name: malloc_count
      type: long
    - description: Objects allocated on the heap and is a general memory pressure
        indicator. This may burst from time to time but should return to a steady
        state value.
      name: heap_objects
      type: long
    - description: Running goroutines and is a general load pressure indicator. This
        may burst from time to time but should return to a steady state value.
      name: goroutines
      type: long
    - fields:
      - description: Bytes allocated by the Consul process.
        name: bytes
        type: long
      name: alloc
      type: group
    - description: Garbage collector metrics
      fields:
      - description: Garbage collector total executions
        name: runs
        type: long
      - description: Time that the garbage collector has paused the app
        fields:
        - fields:
          - description: Garbage collector pause time in nanoseconds
            name: ns
            type: long
          name: current
          type: group
        - fields:
          - description: Nanoseconds consumed by stop-the-world garbage collection
              pauses since Consul started.
            name: ns
            type: long
          name: total
          type: group
        name: pause
        type: group
      name: garbage_collector
      type: group
    name: runtime
    type: group
  name: consul.agent
  release: beta
  type: group
