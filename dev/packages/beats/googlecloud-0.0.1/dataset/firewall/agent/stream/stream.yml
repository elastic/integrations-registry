{{#if input == google-pubsub}}
input: google-pubsub
project_id: {{project_id}}
topic: {{topic}}
subscription.name: {{subscription_name}}
credentials_file: {{credentials_file}}
{{else if input == file}}
input: log
paths:
{{#each paths}}
  - {{this}}
{{/each}}
exclude_files: [".gz$"]
{{/if}}
processors:
  - script:
      lang: javascript
      id: googlecloud_firewall_script
      params:
        debug: {{debug}}
        keep_original_message: {{keep_original_message}}
      file: ${path.home}/module/googlecloud/firewall/config/pipeline.js
