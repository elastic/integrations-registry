- description: |
    replstatus provides an overview of replica set status.
  fields:
  - description: |
      oplog provides an overview of replication oplog status, which is retrieved from db.getReplicationInfo().
    fields:
    - description: |
        The total amount of space used by the replstatus in bytes.
      format: bytes
      name: size.allocated
      type: long
    - description: |
        total amount of space allocated to the replstatus in bytes.
      format: bytes
      name: size.used
      type: long
    - description: |
        Timestamp of the first (i.e. earliest) operation in the replstatus
      name: first.timestamp
      type: long
    - description: |
        Timestamp of the last (i.e. latest) operation in the replstatus
      name: last.timestamp
      type: long
    - description: |
        The difference between the first and last operation in the replstatus.
      name: window
      type: long
    name: oplog
    type: group
  - description: |
      The name of the replica set.
    name: set_name
    type: keyword
  - description: |
      Reflects the current time according to the server that processed the replSetGetStatus command.
    name: server_date
    type: date
  - fields:
    - description: |
        Information, from the viewpoint of this member, regarding the most recent operation that has been written to a majority of replica set members.
      name: last_committed
      type: long
    - description: |
        Information, from the viewpoint of this member, regarding the most recent operation that has been applied to this member of the replica set.
      name: applied
      type: long
    - description: |
        Information, from the viewpoint of this member, regarding the most recent operation that has been written to the journal of this member of the replica set.
      name: durable
      type: long
    name: optimes
    type: group
  - description: |
      Delay between a write operation on the primary and its copy to a secondary
    fields:
    - description: |
        Difference between optime of primary and slowest secondary
      format: duration
      name: max
      type: long
    - description: |
        Difference between optime of primary and fastest secondary
      format: duration
      name: min
      type: long
    name: lag
    type: group
  - description: |
      Difference between the primary's oplog window and the replication lag of the secondary
    fields:
    - description: |
        Difference between primary's oplog window and the replication lag of the fastest secondary
      format: duration
      name: max
      type: long
    - description: |
        Difference between primary's oplog window and the replication lag of the slowest secondary
      format: duration
      name: min
      type: long
    name: headroom
    type: group
  - description: |
      Provides information about members of replica set grouped by their state
    fields:
    - description: |
        Host address of the primary
      name: primary.host
      type: keyword
    - description: |
        Optime of primary
      name: primary.optime
      type: keyword
    - description: |
        List of secondary hosts
      name: secondary.hosts
      type: keyword
    - description: |
        Optimes of secondaries
      name: secondary.optimes
      type: keyword
    - descriprtion: |
        Count of secondaries
      name: secondary.count
      type: long
    - description: |
        List of recovering members hosts
      name: recovering.hosts
      type: keyword
    - description: |
        Count of members in the `recovering` state
      name: recovering.count
      type: long
    - description: |
        List of members' hosts in the `unknown` state
      name: unknown.hosts
      type: keyword
    - description: |
        Count of members with `unknown` state
      name: unknown.count
      type: long
    - description: |
        List of initializing members hosts
      name: startup2.hosts
      type: keyword
    - description: |
        Count of members in the `startup2` state
      name: startup2.count
      type: long
    - description: |
        List of arbiters hosts
      name: arbiter.hosts
      type: keyword
    - description: |
        Count of arbiters
      name: arbiter.count
      type: long
    - description: |
        List of `down` members hosts
      name: down.hosts
      type: keyword
    - description: |
        Count of `down` members
      name: down.count
      type: long
    - description: |
        List of members in the `rollback` state
      name: rollback.hosts
      type: keyword
    - description: |
        Count of members in the `rollback` state
      name: rollback.count
      type: long
    - description: |
        List of members' hosts with healthy = false
      name: unhealthy.hosts
      type: keyword
    - description: |
        Count of unhealthy members
      name: unhealthy.count
      type: long
    name: members
    type: group
  name: mongodb.replstatus
  release: ga
  type: group
